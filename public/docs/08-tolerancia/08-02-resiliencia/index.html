<!DOCTYPE html>
<html lang="es-ar" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Resiliencia de procesos
  #

La falla de un proceso se enmascara replicando el mismo como un grupo de procesos.

  Grupos de procesos
  #

El cliente debe ver al grupo de procesos como una única entidad.
Un mensaje enviado al grupo debe ser enviado a cada uno de sus procesos.
Los grupos pueden ser dinámicos:

Pueden ser creados, modificados, eliminados.
Un proceso puede unirse a un grupo o abandonarlo.
Un proceso puede ser parte de más de un grupo.


  Organización
  #

Grupo planos:">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/08-tolerancia/08-02-resiliencia/">
  <meta property="og:site_name" content="Sistemas Distribuidos">
  <meta property="og:title" content="Resiliencia de procesos">
  <meta property="og:description" content=" Resiliencia de procesos # La falla de un proceso se enmascara replicando el mismo como un grupo de procesos.
Grupos de procesos # El cliente debe ver al grupo de procesos como una única entidad.
Un mensaje enviado al grupo debe ser enviado a cada uno de sus procesos.
Los grupos pueden ser dinámicos:
Pueden ser creados, modificados, eliminados. Un proceso puede unirse a un grupo o abandonarlo. Un proceso puede ser parte de más de un grupo. Organización # Grupo planos:">
  <meta property="og:locale" content="es_ar">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:published_time" content="2024-11-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-11-12T00:00:00+00:00">
<title>Resiliencia de procesos | Sistemas Distribuidos</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="canonical" href="http://localhost:1313/docs/08-tolerancia/08-02-resiliencia/">
<link rel="stylesheet" href="/book.min.4964903a822a7acb10dac6d1ab524833c97fb5f99b141976bcb8a47d539be9c0.css" integrity="sha256-SWSQOoIqessQ2sbRq1JIM8l/tfmbFBl2vLikfVOb6cA=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.fcc5b42d1cb820f5b6643caaef0921b97c83184bf6a4f9c4627e760a0e449138.js" integrity="sha256-/MW0LRy4IPW2ZDyq7wkhuXyDGEv2pPnEYn52Cg5EkTg=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)'], ['$', '$']]                  
    }
  };
</script>
<link rel="stylesheet" href="/logical-clocks.css">

</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Sistemas Distribuidos</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/01-introduccion/" class="">Introducción</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/02-arquitectura/" class="">Arquitecturas</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/03-procesos/" class="">Procesos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/04-01-protocolos/" class="">Protocolos de comunicación</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/04-02-rpc/" class="">RPC</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/04-comunicacion-mom/" class="">MoM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/04-comunicacion-multicast/" class="">Multicast</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/05-01-relojes/" class="">Relojes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/05-02-mutex/" class="">Mutex</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/05-03-eleccion/" class="">Algoritmos de elección</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/05-04-agregacion/" class="">Coordinación mediante rumores</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-nombres-intro/" class="">Nombres, identificadores y direcciones</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-nombres-planos/" class="">Nombres planos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/06-nombres-planos-chord/" class="">Chord</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-replicacion/07-01-introduccion/" class="">Consistencia</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-replicacion/07-02-data-centric/" class="">Consistencia centrada en datos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-replicacion/07-03-client-centric/" class="">Consistencia centrada en el cliente</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-replicacion/07-04-replica-managment/" class="">Administración de réplicas</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/07-replicacion/07-05-protocolos/" class="">Protocolos de consistencia</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/08-tolerancia/08-01-introduccion/" class="">Tolerancia a fallos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/08-tolerancia/08-02-resiliencia/" class="active">Resiliencia de procesos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/08-tolerancia/08-03-comunicacion/" class="">Comunicación confiable</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/08-tolerancia/08-05-commit-distribuido/" class="">Commit distribuido</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Resiliencia de procesos</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#grupos-de-procesos">Grupos de procesos</a>
      <ul>
        <li><a href="#organización">Organización</a></li>
        <li><a href="#administración-de-la-membresía">Administración de la membresía</a></li>
      </ul>
    </li>
    <li><a href="#enmascaramiento-de-fallas">Enmascaramiento de fallas</a></li>
    <li><a href="#consenso">Consenso</a>
      <ul>
        <li><a href="#inundación">Inundación</a></li>
        <li><a href="#raft">Raft</a></li>
        <li><a href="#paxos">Paxos</a></li>
      </ul>
    </li>
    <li><a href="#consenso-con-fallas-arbitrarias">Consenso con fallas arbitrarias</a></li>
    <li><a href="#limitaciones">Limitaciones</a>
      <ul>
        <li><a href="#flp">FLP</a></li>
        <li><a href="#cap">CAP</a></li>
        <li><a href="#pacelc">PACELC</a></li>
        <li><a href="#calm">CALM</a></li>
      </ul>
    </li>
    <li><a href="#detección-de-fallas">Detección de fallas</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="resiliencia-de-procesos">
  Resiliencia de procesos
  <a class="anchor" href="#resiliencia-de-procesos">#</a>
</h1>
<p>La falla de un proceso se enmascara replicando el mismo como un grupo de procesos.</p>
<h2 id="grupos-de-procesos">
  Grupos de procesos
  <a class="anchor" href="#grupos-de-procesos">#</a>
</h2>
<p>El cliente debe ver al grupo de procesos como una única entidad.</p>
<p>Un mensaje enviado al grupo debe ser enviado a cada uno de sus procesos.</p>
<p>Los grupos pueden ser dinámicos:</p>
<ul>
<li>Pueden ser creados, modificados, eliminados.</li>
<li>Un proceso puede unirse a un grupo o abandonarlo.</li>
<li>Un proceso puede ser parte de más de un grupo.</li>
</ul>
<h3 id="organización">
  Organización
  <a class="anchor" href="#organizaci%c3%b3n">#</a>
</h3>
<p>Grupo planos:</p>
<ul>
<li>Simétrico: todos los procesos son idénticos.</li>
<li>No existe un único punto de falla.</li>
<li>Es más complicado llegar a un consenso.</li>
<li>Ej: p2p.</li>
</ul>
<p>Grupo jerárquico:</p>
<ul>
<li>Asimétrico: por ejemplo, un coordinador y múltiples procesos subordinados.</li>
<li>El coordinador facilita la toma de desiciones.</li>
<li>El coordinador es también un punto de falla.</li>
</ul>
<h3 id="administración-de-la-membresía">
  Administración de la membresía
  <a class="anchor" href="#administraci%c3%b3n-de-la-membres%c3%ada">#</a>
</h3>
<p>¿Cómo administrar la creación y eliminación de grupos? ¿La entrada y salida de procesos?</p>
<p>Solución centralizada:</p>
<ul>
<li>Utilizar un servidor de grupos.</li>
<li>Se encarga de llevar registros de los grupos y sus procesos.</li>
<li>El servidor es un único punto de falla.</li>
</ul>
<p>Solución distribuida:</p>
<ul>
<li>Cada nodo mantiene información de sus vecinos / grupo entero.</li>
<li>Por ejemplo, se puede anunciar el ingreso mediante un multicast.</li>
</ul>
<p>Problema: ¿Cómo detectar que un proceso no es parte del grupo ante una falla?</p>
<ul>
<li>Hay que diferenciarlo de un proceso lento / congestion de red.</li>
</ul>
<p>La entrada y salida de un proceso debe ser <em>sincrónica</em>:</p>
<ul>
<li>Al ingresar, debe recibir todos los mensajes generados o enviados al grupo.</li>
<li>Al abandonarlo, no debe recibir ningún mensaje dirigido o generado por el grupo.</li>
</ul>
<h2 id="enmascaramiento-de-fallas">
  Enmascaramiento de fallas
  <a class="anchor" href="#enmascaramiento-de-fallas">#</a>
</h2>
<p>¿Cuanta replicación es necesaria?</p>
<p>Suponer que se intenta tolerar hasta $k$ procesos defectuosos.</p>
<p>Un grupo es $k$-tolerante si cumple con sus requerimentos aún ante la falla de $k$ elementos.</p>
<p>¿Cuantos procesos son necesarios para ser $k$-tolerante?</p>
<p>En un modelo de fallas <em>fail-silent</em>: $k+1$</p>
<ul>
<li>En el peor caso, el único nodo funcional responde.</li>
</ul>
<p>Ante fallas <em>arbitrarias</em>: $2k+1$</p>
<ul>
<li>Por mayoría simple se puede elegir la respuesta correcta.</li>
</ul>
<h2 id="consenso">
  Consenso
  <a class="anchor" href="#consenso">#</a>
</h2>
<p>Suponer un modelo de <em>crash failures</em></p>
<h3 id="inundación">
  Inundación
  <a class="anchor" href="#inundaci%c3%b3n">#</a>
</h3>
<p>Suponer un modelo de fallas de detención (<em>fail-stop</em>)</p>
<p>En cada ronda cada proceso envía su lista de comandos a todo el resto.</p>
<p>Como todos ordenan los comandos de la misma forma, se llega a un consenso.</p>
<p>Un proceso sólo avanza a la siguiente ronda si recibe un mensaje de <em>todos</em> los <em>procesos no defectuosos</em> en el grupo.</p>
<p>Puede avanzar de ronda sin tomar una desición (ejecutar un comando).</p>
<h3 id="raft">
  Raft
  <a class="anchor" href="#raft">#</a>
</h3>
<p>Algoritmo de consenso basado en primario</p>
<p>Supone un modelo de falla de detención <em>fail-noisy</em></p>
<p>Eventualmente se detecta un proceso defectuoso).</p>
<p>Características:</p>
<ul>
<li>Servidores replicados basado en primario (+5)</li>
<li>Cada servidor mantiene un log de operaciones.</li>
<li>Una operación puede estar ejecutada o pendiente.</li>
<li>El líder decide el orden de las operaciones ejecutadas.</li>
</ul>
<p>Ver: <a href="https://thesecretlivesofdata.com/raft/">https://thesecretlivesofdata.com/raft/</a></p>
<h3 id="paxos">
  Paxos
  <a class="anchor" href="#paxos">#</a>
</h3>
<p>Consultar filmina</p>
<h2 id="consenso-con-fallas-arbitrarias">
  Consenso con fallas arbitrarias
  <a class="anchor" href="#consenso-con-fallas-arbitrarias">#</a>
</h2>
<p>Suponer ahora un modelo de fallas arbitrarias.</p>
<p>En ese caso, se necesitan $3k+1$ procesos para ser $k$-tolerante.</p>
<p>Ejemplo: Practical Byzantine Fault Tolerance</p>
<h2 id="limitaciones">
  Limitaciones
  <a class="anchor" href="#limitaciones">#</a>
</h2>
<h3 id="flp">
  FLP
  <a class="anchor" href="#flp">#</a>
</h3>
<p>Llegar a un consenso no es posible en sistemas asincrónicos si falla <em>al menos</em> un nodo.</p>
<h3 id="cap">
  CAP
  <a class="anchor" href="#cap">#</a>
</h3>
<p>Consistency - Availability - Partitioning tolerant</p>
<p>Sólo se puede tener dos de estas propiedades: CP o AP.</p>
<p>En la práctica se deben definir compromisos (trade-offs)</p>
<p>Las particiones pueden ser resueltas mediante balanceadores de carga en sistemas web.</p>
<p>Sin embargo, en sistemas móviles es más notoria el compromiso ante particiones.</p>
<h3 id="pacelc">
  PACELC
  <a class="anchor" href="#pacelc">#</a>
</h3>
<p>Si hay particiones, se debe resolver el compromiso entre disponibilidad y consistencia.</p>
<p>Caso contrario, el compromiso es entre <em>latencia</em> y consistencia (favoreciendo la primera antes que la segunda).</p>
<h3 id="calm">
  CALM
  <a class="anchor" href="#calm">#</a>
</h3>
<p>Algoritmos monótonos cumplen con consistencia, disponibilidad y tolerancia a las particiones.</p>
<p>Ejemplo: uso de CRDT (Conflict-free replicated data type, tipos de datos replicados sin conflicto)</p>
<h2 id="detección-de-fallas">
  Detección de fallas
  <a class="anchor" href="#detecci%c3%b3n-de-fallas">#</a>
</h2>
<p>Preguntar periódicamente si un proceso esta funcionando.</p>
<p>En redes no confiables, al usar timeouts se pueden generar falsos positivos.</p>
<ul>
<li>Nodos que no responden a tiempo, pero que son funcionales pueden ser removidos del grupo.</li>
</ul>
<p>Al detectar que un nodo no responde a un timeout, se puede consultar a otros nodos vecinos.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#grupos-de-procesos">Grupos de procesos</a>
      <ul>
        <li><a href="#organización">Organización</a></li>
        <li><a href="#administración-de-la-membresía">Administración de la membresía</a></li>
      </ul>
    </li>
    <li><a href="#enmascaramiento-de-fallas">Enmascaramiento de fallas</a></li>
    <li><a href="#consenso">Consenso</a>
      <ul>
        <li><a href="#inundación">Inundación</a></li>
        <li><a href="#raft">Raft</a></li>
        <li><a href="#paxos">Paxos</a></li>
      </ul>
    </li>
    <li><a href="#consenso-con-fallas-arbitrarias">Consenso con fallas arbitrarias</a></li>
    <li><a href="#limitaciones">Limitaciones</a>
      <ul>
        <li><a href="#flp">FLP</a></li>
        <li><a href="#cap">CAP</a></li>
        <li><a href="#pacelc">PACELC</a></li>
        <li><a href="#calm">CALM</a></li>
      </ul>
    </li>
    <li><a href="#detección-de-fallas">Detección de fallas</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












